<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link type="favicon" rel="shortcut icon" href="static/pixiv.png" />
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="font/iconfont.css" />
    <title>PixivBiu</title>

    <style>
      #header {
        background-color: #1f2224;
      }
      #header a {
        color: #fff;
        text-decoration: none;
      }

      #footer a {
        color: #fff;
        text-decoration: none;
      }
      #main #Carousel img {
        height: 600px;
      }
      body {
        background-color: #f2f2f2;
      }
    </style>
  </head>
  <body>
    <div id="header">
      <div class="container-fluid">
        <div class="row fixed-top">
          <nav class="navbar navbar-expand-lg navbar-light bg-dark">
            <div class="container-fluid">
              <a class="navbar-brand" href="./"
                ><strong>PixivBiu</strong
                ><span class="text-white-50">@1.2</span></a
              >
              <button
                class="navbar-toggler"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent"
                aria-expanded="false"
                aria-label="Toggle navigation"
              >
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                  <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="./"
                      >ä¸»é¡µ</a
                    >
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="javascript: getRank('day');"
                      >æ¼«ç”»</a
                    >
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="javascript: getRank('day');"
                      >æ–°äºº</a
                    >
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="javascript: getRank('day');"
                      >18R</a
                    >
                  </li>
                  <li class="nav-item dropdown">
                    <a
                      class="nav-link dropdown-toggle"
                      href="#"
                      id="navbarDropdown"
                      role="button"
                      data-bs-toggle="dropdown"
                      aria-expanded="false"
                    >
                      æ’è¡Œæ¦œ
                    </a>
                    <ul
                      class="dropdown-menu bg-dark"
                      aria-labelledby="navbarDropdown"
                    >
                      <li>
                        <a
                          class="dropdown-item"
                          href="javascript: getRank('day');"
                          >æ—¥å›¾</a
                        >
                      </li>
                      <li>
                        <a
                          class="dropdown-item"
                          href="javascript: getRank('week');"
                          >å‘¨å›¾</a
                        >
                      </li>
                      <li>
                        <a
                          class="dropdown-item"
                          href="javascript: getRank('month');"
                          >æœˆå›¾</a
                        >
                      </li>
                      <li>
                        <a
                          class="dropdown-item"
                          href="javascript: getRank('day_manga');"
                          >æ—¥æ¼«</a
                        >
                      </li>

                      <li>
                        <a
                          class="dropdown-item"
                          href="javascript: getRank('week_manga');"
                          >å‘¨æ¼«</a
                        >
                      </li>

                      <li>
                        <a
                          class="dropdown-item"
                          href="javascript: getRank('month_manga');"
                          >æœˆæ¼«</a
                        >
                      </li>

                      <li>
                        <a
                          class="dropdown-item"
                          href="javascript: getRank('day_r18');"
                          >æ—¥R18</a
                        >
                      </li>

                      <li>
                        <a
                          class="dropdown-item"
                          href="javascript: getRank('week_r18');"
                          >å‘¨R18</a
                        >
                      </li>

                      <li>
                        <a
                          class="dropdown-item"
                          href="javascript: getRank('week_rookie');"
                          >æ–°äºº</a
                        >
                      </li>
                    </ul>
                  </li>
                </ul>
                <form class="d-flex">
                  <input
                    class="form-control me-2"
                    type="search"
                    placeholder="Search"
                    aria-label="Search"
                    data-bs-toggle="tooltip"
                    data-bs-placement="top"
                    title="æœç´¢å›è½¦"
                  />
                  <button class="btn btn-outline-success" type="submit">
                    Search
                  </button>
                </form>
              </div>
            </div>
          </nav>
        </div>
      </div>
    </div>
    <div id="main">
      <div id="Carousel" class="row">
        <div
          id="carouselExampleCaptions"
          class="carousel slide col"
          data-bs-ride="carousel"
        >
          <div class="carousel-indicators">
            <button
              type="button"
              data-bs-target="#carouselExampleCaptions"
              data-bs-slide-to="0"
              class="active"
              aria-current="true"
              aria-label="Slide 1"
            ></button>
            <button
              type="button"
              data-bs-target="#carouselExampleCaptions"
              data-bs-slide-to="1"
              aria-label="Slide 2"
            ></button>
            <button
              type="button"
              data-bs-target="#carouselExampleCaptions"
              data-bs-slide-to="2"
              aria-label="Slide 3"
            ></button>
          </div>
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img
                src="..\..\static\demo\images\fulls\01.jpg"
                class="d-block w-100"
                alt="..."
              />
              <div class="carousel-caption d-none d-md-block">
                <h5>First slide label</h5>
                <p>
                  Some representative placeholder content for the first slide.
                </p>
              </div>
            </div>
            <div class="carousel-item">
              <img
                src="..\..\static\demo\images\fulls\02.jpg"
                class="d-block w-100"
                alt="..."
              />
              <div class="carousel-caption d-none d-md-block">
                <h5>Second slide label</h5>
                <p>
                  Some representative placeholder content for the second slide.
                </p>
              </div>
            </div>
            <div class="carousel-item">
              <img
                src="..\..\static\demo\images\fulls\03.jpg"
                class="d-block w-100"
                alt="..."
              />
              <div class="carousel-caption d-none d-md-block">
                <h5>Third slide label</h5>
                <p>
                  Some representative placeholder content for the third slide.
                </p>
              </div>
            </div>
          </div>
          <button
            class="carousel-control-prev"
            type="button"
            data-bs-target="#carouselExampleCaptions"
            data-bs-slide="prev"
          >
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button
            class="carousel-control-next"
            type="button"
            data-bs-target="#carouselExampleCaptions"
            data-bs-slide="next"
          >
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
      </div>

      <div id="Card">
        <div class="container">
          <div class="row">
            <div class="row gy-2">
              <h3>çƒ­é—¨æ¨è</h3>
            </div>
            <div class="row row-cols-3 row-cols-lg-3 g-2 g-lg-3">
              <div class="col">
                <div class="card">
                  <img
                    src="..\..\static\demo\images\thumbs\10.jpg"
                    class="card-img-top"
                    alt="..."
                  />
                  <div class="card-body">
                    <h5 class="card-title">Card title</h5>
                    <p class="card-text">
                      This is a longer card with supporting text below as a
                      natural lead-in to additional content. This content is a
                      little bit longer.
                    </p>
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="card">
                  <img
                    src="..\..\static\demo\images\thumbs\10.jpg"
                    class="card-img-top"
                    alt="..."
                  />
                  <div class="card-body">
                    <h5 class="card-title">Card title</h5>
                    <p class="card-text">
                      This is a longer card with supporting text below as a
                      natural lead-in to additional content. This content is a
                      little bit longer.
                    </p>
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="card">
                  <img
                    src="..\..\static\demo\images\thumbs\10.jpg"
                    class="card-img-top"
                    alt="..."
                  />
                  <div class="card-body">
                    <h5 class="card-title">Card title</h5>
                    <p class="card-text">
                      This is a longer card with supporting text below as a
                      natural lead-in to additional content. This content is a
                      little bit longer.
                    </p>
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="card">
                  <img
                    src="..\..\static\demo\images\thumbs\10.jpg"
                    class="card-img-top"
                    alt="..."
                  />
                  <div class="card-body">
                    <h5 class="card-title">Card title</h5>
                    <p class="card-text">
                      This is a longer card with supporting text below as a
                      natural lead-in to additional content. This content is a
                      little bit longer.
                    </p>
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="card">
                  <img
                    src="..\..\static\demo\images\thumbs\10.jpg"
                    class="card-img-top"
                    alt="..."
                  />
                  <div class="card-body">
                    <h5 class="card-title">Card title</h5>
                    <p class="card-text">
                      This is a longer card with supporting text below as a
                      natural lead-in to additional content. This content is a
                      little bit longer.
                    </p>
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="card">
                  <img
                    src="..\..\static\demo\images\thumbs\10.jpg"
                    class="card-img-top"
                    alt="..."
                  />
                  <div class="card-body">
                    <h5 class="card-title">Card title</h5>
                    <p class="card-text">
                      This is a longer card with supporting text below as a
                      natural lead-in to additional content. This content is a
                      little bit longer.
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="footer" class="bg-dark">
      <div class="container">
        <div class="row">
          <div class="col-1"></div>
          <div class="col">
            <h3 class="text-light">PIXIVBIU@2.1.0</h3>
            <p class="text-light">
              ä¸€æ¬¾ä¸é”™çš„ Pixiv æœç´¢è¾…åŠ©å·¥å…·ã€‚ åŸºäº Python@3.7(+) æ„å»ºã€‚
            </p>
            <h3 class="text-light">ä¸€äº›é“¾æ¥</h3>
            <p>
              <a class="text-white-50" href="">Â© é“œé”£çƒ§è®¡åˆ’.</a>
            </p>
            <p>
              <a class="text-white-50" href="">Created by Trii Hisa.</a>
            </p>
            <p>
              <a class="text-white-50" href="">Design by HTML5 UP.</a>
            </p>
          </div>
          <div class="col">
            <h3 class="text-light">å…¶ä»–</h3>
            <p class="text-light">å¦‚ä½•ä½¿ç”¨? & åé¦ˆ</p>
            <p class="text-white-50">
              If you feel your rights have been violated, please contact me
              through the information above. Sorry a lot.
            </p>
          </div>
          <div class="col-1"></div>
        </div>
      </div>
    </div>
    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
      crossorigin="anonymous"
    ></script>
    <script src="js/searchSettings.js"></script>
    <script src="js/searchActions.js"></script>
    <script>
      var tmpCode;
      var tmpPageData;
      var tmpSearchSettings = {};
      var downloadList = {};
      var settingsMods = {
        "#settingsPageNum": ["pixivbiu_searchPageNum", 5, "æ¯ç»„é¡µæ•°"],
        "#settingsIsOriPic": ["pixivbiu_displayIsOriPic", "off", "å¤§å›¾é¢„è§ˆ"],
        "#settingsIsAllSort": ["pixivbiu_funIsAllSort", "off", "æ›´å¤šæ’åº"],
        "#settingsSortMode": ["pixivbiu_sortMode", "0", "æ’åºæ¨¡å¼"],
        "#settingsSearchMode": ["pixivbiu_searchMode", "tag", "æœç´¢æ¨¡å¼"],
        "#settingsRvrProxyUrl": [
          "pixivbiu_RvrProxyUrl",
          "https://i.pixiv.cat",
          "å›¾ç‰‡åä»£åœ°å€",
        ],
      };

      $(document).ready(function () {
        loadSearchSettings();
        progresserDownloading_auto();
        $("#myBox").popmenu();
        $("#codeBox").popmenu();
        $("#rankBox").popmenu();
        loadTooltip();
        let c = getGetArg("code");
        if (c) {
          c = unescape(c);
          setTimeout('changeSrhBox("' + c + '", 2)', 300);
        }
      });

      $("#srhBox").keypress(function (e) {
        if (e.which === 13 && $("#srhBox").val() !== "") {
          srhBoxDo();
        }
      });

      $("#srhBox").bind("input propertychange", function (event) {
        srhBoxStu();
      });

      function srhBoxDo() {
        const c = $("#srhBox").val();
        if ((m = regMatch(/@u=(.*?) -(.)/g, c)).length === 3) {
          const user = m[1];
          const code = m[2];
          if (code === "i") {
            $("title").html("TA æ’ç”» - PixivBiu");
            getUserWorks(user, "illust");
          } else if (code === "c") {
            $("title").html("TA æ¼«ç”» - PixivBiu");
            getUserWorks(user, "manga");
          } else if (code === "m") {
            $("title").html("TA æ”¶è— - PixivBiu");
            getMarks(user);
          } else if (code === "f") {
            $("title").html("TA å…³æ³¨ - PixivBiu");
            getFollowing(user);
          }
        } else if ((m = regMatch(/@s=(.*?) -(.)/g, c)).length === 3) {
          const kt = m[1];
          const code = m[2];
          if (code === "t") {
            $("title").html(kt + " - éƒ¨åˆ†æ ‡ç­¾æœç´¢");
            searchForWorks(kt, 0, 1, "tag");
          } else if (code === "o") {
            $("title").html(kt + " - å…¨æ ‡ç­¾æœç´¢");
            searchForWorks(kt, 0, 1, "otag");
          } else if (code === "d") {
            $("title").html(kt + " - æ ‡é¢˜æˆ–æè¿°æœç´¢");
            searchForWorks(kt, 0, 1, "des");
          }
        } else if ((m = regMatch(/@w=(.*?)$/g, c)).length === 2) {
          $("title").html("ä½œå“ - PixivBiu");
          getOneWork(m[1]);
        } else if ((m = regMatch(/@su=(.*?)$/g, c)).length === 2) {
          $("title").html("ç”¨æˆ·æœç´¢ - PixivBiu");
          searchForUsers(m[1]);
        } else {
          $("title").html("PixivBiu");
          searchForWorks(c);
        }
        srhBoxStu();
      }

      function srhBoxStu() {
        let code;
        const c = $("#srhBox").val();
        if ((m = regMatch(/@u=(.*?) -(.)/g, c)).length === 3) {
          code = m[2];
          if (code === "i") {
            $("#srhBox").tooltipster("content", "æŒ‡ä»¤ Â· è·å–TAçš„ æ’ç”» ä½œå“");
          } else if (code === "c") {
            $("#srhBox").tooltipster("content", "æŒ‡ä»¤ Â· è·å–TAçš„ æ¼«ç”» ä½œå“");
          } else if (code === "m") {
            $("#srhBox").tooltipster("content", "æŒ‡ä»¤ Â· è·å–TAçš„ æ”¶è— åˆ—è¡¨");
          } else if (code === "f") {
            $("#srhBox").tooltipster("content", "æŒ‡ä»¤ Â· è·å–TAçš„ å…³æ³¨ åˆ—è¡¨");
          } else {
            $("#srhBox").tooltipster(
              "content",
              "æŒ‡ä»¤ Â· -i æ’ç”»ã€-c æ¼«ç”»ã€-m æ”¶è—åˆ—è¡¨ã€-f å…³æ³¨åˆ—è¡¨"
            );
          }
        } else if ((m = regMatch(/@s=(.*?) -(.)/g, c)).length == 3) {
          code = m[2];
          if (code === "t") {
            $("#srhBox").tooltipster("content", "æŒ‡ä»¤ Â· åŒ¹é…éƒ¨åˆ†æ ‡ç­¾æœç´¢");
          } else if (code === "o") {
            $("#srhBox").tooltipster("content", "æŒ‡ä»¤ Â· åŒ¹é…å…¨æ ‡ç­¾æœç´¢");
          } else if (code === "d") {
            $("#srhBox").tooltipster("content", "æŒ‡ä»¤ Â· åŒ¹é…æ ‡é¢˜æˆ–æè¿°æœç´¢");
          } else {
            $("#srhBox").tooltipster(
              "content",
              "æŒ‡ä»¤ Â· -t éƒ¨åˆ†æ ‡ç­¾ã€-o å…¨æ ‡ç­¾ã€-d æ ‡é¢˜æˆ–æè¿°"
            );
          }
        } else if (regMatch(/@u=(.*?)$/g, c).length === 2) {
          $("#srhBox").tooltipster(
            "content",
            "æŒ‡ä»¤ @u={user_id} -{type} Â· è·å–æŒ‡å®šç”¨æˆ·çš„ -i æ’ç”»ã€-c æ¼«ç”»ã€-m æ”¶è—åˆ—è¡¨ã€-f å…³æ³¨åˆ—è¡¨"
          );
        } else if (regMatch(/@s=(.*?)$/g, c).length === 2) {
          $("#srhBox").tooltipster(
            "content",
            "æŒ‡ä»¤ Â· ä»¥æŒ‡å®šåŒ¹é…æ¨¡å¼æœç´¢ -t éƒ¨åˆ†æ ‡ç­¾ã€-o å…¨æ ‡ç­¾ã€-d æ ‡é¢˜æˆ–æè¿°"
          );
        } else if (regMatch(/@w=(.*?)$/g, c).length === 2) {
          $("#srhBox").tooltipster(
            "content",
            "æŒ‡ä»¤ @w={work_id} Â· æœç´¢æŒ‡å®š ID çš„ä½œå“"
          );
        } else if (regMatch(/@su=(.*?)$/g, c).length === 2) {
          $("#srhBox").tooltipster(
            "content",
            "æŒ‡ä»¤ @su={keyword} Â· æœç´¢ç›¸å…³ç”¨æˆ·"
          );
        } else {
          $("#srhBox").tooltipster("content", "æœç´¢ Â· å›è½¦æ‰§è¡Œ");
        }
      }

      function grpIdxBoxStu() {
        var c = $("#headerGrpIdxBox").val();
        var oric = $("#headerGrpIdxBox").attr("placeholder");
        var itm = $("#btnHeaderNext");
        var itmi = $("#btnHeaderNext i");
        var txt = "ä¸‹ä¸€ç»„";
        if (itm.length <= 0) {
          itm = $("#btnHeaderBack");
          itmi = $("#btnHeaderBack i");
          txt = "è¿”å›";
        }
        if (itm.length <= 0) return;
        if (c !== "" && !isNaN(c) && c !== oric) {
          itm.attr("href", "javascript: grpActChon('now', " + Number(c) + ");");
          itmi.tooltipster("content", "è·³è½¬");
        } else {
          itm.attr("href", "javascript: grpActChon('next');");
          itmi.tooltipster("content", txt);
        }
      }

      function dlPageAll() {
        if (
          confirm(
            "ä½ ç¡®å®šè¦ä¸€ä¸‹å­ä¸‹è½½å…¨éƒ¨çš„å›¾ç‰‡å˜›ï¼Ÿï¼è¿˜æ˜¯åŸå›¾å“...\nå…¶å®ç‚¹å‡»å›¾ç‰‡å³ä¸Šè§’ä¹Ÿå¯ä»¥ä¸‹è½½ã€‚"
          )
        )
          $(".thumbAction").each(function () {
            if ($(this).children("a:last")[0]["target"] !== "_blank") {
              $(this).children("a:last")[0].click();
            }
          });
      }

      function showPics(
        title = "",
        reLoadList = ["main", "header"],
        c = tmpPageData
      ) {
        let rstHtml = "",
          kt;
        let headerHtml =
          '<li><a href="javascript: isShowSettings();">æœç´¢è®¾ç½®</a></li>';
        const typeName = {
          illustration: "å›¾",
          manga: "æ¼«",
          ugoira: "åŠ¨",
          other: "å…¶ä»–",
        };
        if (c.rst && c.rst.data) {
          let i = 0;
          const data = c.rst.data;
          const groupIndex = Number(c["args"]["ops"]["groupIndex"]);

          // æ•´ç†ç»“æœ
          // ç”¨æˆ·ä½œå“ç±»çš„ç”¨æˆ·ä¿¡æ¯æ˜¾ç¤º
          if (
            c.rst.data.length > 0 &&
            c["args"]["ops"]["method"] === "userWorks"
          ) {
            let li = "";
            if (data[0]["author"]["is_followed"]) {
              li =
                '<a id="follow_' +
                data[0]["author"]["id"] +
                '" href="javascript: doFollow(' +
                data[0]["author"]["id"] +
                ', \'del\');"><b class="tooltip" title="å–æ¶ˆå…³æ³¨"><hicon>ğŸ’˜</hicon></b></a>';
            } else {
              li =
                '<a id="follow_' +
                data[0]["author"]["id"] +
                '" href="javascript: doFollow(' +
                data[0]["author"]["id"] +
                ', \'add\');"><b class="tooltip" title="å…³æ³¨"><hicon>ğŸ’—</hicon></b></a>';
            }
            li +=
              '<a target="_blank" href="https://www.pixiv.net/users/' +
              data[0]["author"]["id"] +
              '"><d class="tooltip" title="æ‰“å¼€ç”»å¸ˆ Pixiv ä¸»é¡µ">Pixiv</d></a>';
            li +=
              '<a target="_blank" href=".?code=%40u%3d' +
              data[0]["author"]["id"] +
              '%20-f"><op class="tooltip" title="è·å– TA çš„å…³æ³¨åˆ—è¡¨">å…³æ³¨åˆ—è¡¨</op></a>';
            rstHtml +=
              '<article class="thumb"><a class="imageBtn"><img src="' +
              data[0]["all"]["user"]["profile_image_urls"]["medium"].replace(
                "i.pximg.net",
                "i.pixiv.cat"
              ) +
              '" alt="" /></a><h2>ç”»å¸ˆ@' +
              data[0]["author"]["name"] +
              '</h2><section class="thumbAction">' +
              li +
              "</section></article>";
          }

          // ç”¨æˆ·åˆ—è¡¨æ•´ç†
          for (
            i = 0;
            i < data.length &&
            (c["args"]["ops"]["method"] === "userFollowing" ||
              c["args"]["ops"]["method"] === "searchUsers");
            i++
          ) {
            let li = "";
            if (data[i]["is_followed"]) {
              li =
                '<a id="follow_' +
                data[i]["id"] +
                '" href="javascript: doFollow(' +
                data[i]["id"] +
                ', \'del\');"><b class="tooltip" title="å–æ¶ˆå…³æ³¨"><hicon>ğŸ’˜</hicon></b></a>';
            } else {
              li =
                '<a id="follow_' +
                data[i]["id"] +
                '" href="javascript: doFollow(' +
                data[i]["id"] +
                ', \'add\');"><b class="tooltip" title="å…³æ³¨"><hicon>ğŸ’—</hicon></b></a>';
            }
            li +=
              '<a target="_blank" href=".?code=%40u%3d' +
              data[i]["id"] +
              '%20-i"><d class="tooltip" title="è·å– TA çš„ä½œå“">ğŸ”ä½œå“</d></a>';
            rstHtml +=
              '<article class="thumb"><a class="imageBtn"><img src="' +
              data[i]["profile_image_urls"]["medium"].replace(
                "i.pximg.net",
                "i.pixiv.cat"
              ) +
              '" alt="" /></a><h2>' +
              data[i]["name"] +
              '</h2><section class="thumbAction">' +
              li +
              "</section></article>";
          }

          // é€šç”¨ä½œå“æ•´ç†
          for (
            i = 0;
            i < data.length &&
            c["args"]["ops"]["method"] !== "userFollowing" &&
            c["args"]["ops"]["method"] !== "searchUsers";
            i++
          ) {
            var extra = "";
            var imgUrlCover = data[i]["image_urls"]["medium"].replace(
              "https://i.pximg.net",
              tmpSearchSettings["pixivbiu_RvrProxyUrl"]
            );
            var imgUrl = data[i]["image_urls"]["large"].replace(
              "https://i.pximg.net",
              tmpSearchSettings["pixivbiu_RvrProxyUrl"]
            );
            var bookedNum = data[i]["total_bookmarked"];

            if (data[i]["all"]["meta_pages"].length > 0) {
              typeName["illustration"] = "å¤šå›¾";
              typeName["manga"] = "æ¼«ç”»";
              extra +=
                '<a target="_blank" href=".?code=%40w%3d' +
                data[i]["id"] +
                '"><op class="tooltip" title="æŸ¥çœ‹å®Œæ•´ä½œå“">ğŸ‘€</op></a>';
            } else {
              typeName["illustration"] = "å›¾";
              typeName["manga"] = "å•æ¼«";
            }

            if (tmpSearchSettings["pixivbiu_displayIsOriPic"] !== "on")
              imgUrl = imgUrlCover;

            if (c["args"]["ops"]["method"] === "rank") bookedNum = "";

            // æ”¶è—æŒ‰é’®
            if (data[i]["is_bookmarked"]) {
              extra +=
                '<a id="marks_' +
                data[i]["id"] +
                '" href="javascript: doBookmark(' +
                data[i]["id"] +
                ', \'del\');"><b class="tooltip" title="å–æ¶ˆæ”¶è—"><hicon>ğŸ’˜</hicon>' +
                bookedNum +
                "</b></a>";
            } else {
              extra +=
                '<a id="marks_' +
                data[i]["id"] +
                '" href="javascript: doBookmark(' +
                data[i]["id"] +
                ', \'add\');"><b class="tooltip" title="æ”¶è—"><hicon>ğŸ’—</hicon>' +
                bookedNum +
                "</b></a>";
            }

            // ä¸‹è½½å½’ç±»ç”¨çš„æ–‡ä»¶å¤¹åç§°
            if (c["args"]["fun"]["kt"]) {
              kt = c["args"]["fun"]["kt"];
            } else if (c["args"]["ops"]["method"] === "userWorks") {
              kt =
                "ç”»å¸ˆ_" +
                data[0]["author"]["name"] +
                "@" +
                data[0]["author"]["id"];
            } else if (c["args"]["ops"]["method"] === "userMarks") {
              kt = "æ”¶è—_" + c["args"]["fun"]["userID"];
            } else if (c["args"]["ops"]["method"] === "rank") {
              kt = "æ’è¡Œæ¦œ_" + c["args"]["fun"]["mode"];
            } else if (c["args"]["ops"]["method"] === "oneWork") {
              kt = "ä½œå“";
            } else {
              kt = c["args"]["ops"]["method"];
            }
            kt = kt.replaceAll("'", "\\'").replaceAll('"', '\\"');
            // ä¸‹è½½æŒ‰é’®
            extra +=
              '<a id="dl_' +
              data[i]["id"] +
              '" href="javascript: doDownloadPic(\'' +
              kt +
              "', " +
              data[i]["id"] +
              ", " +
              String(i) +
              ');"><d class="tooltip" title="ä¸‹è½½">' +
              typeName[data[i]["type"]] +
              "</d></a>";

            // å›¾ç‰‡é¢„è§ˆå†…å®¹
            var extraText =
              '<a target="_blank" href=".?code=%40u%3d' +
              data[i]["author"]["id"] +
              '%20-i">ğŸ”ä½œè€…æ’ç”»</a> <a target="_blank" href=".?code=%40u%3d' +
              data[i]["author"]["id"] +
              '%20-c">ğŸ”ä½œè€…æ¼«ç”»</a>';

            if (data[i]["all"]["meta_pages"].length > 0) {
              extraText =
                '<a target="_blank" href=".?code=%40w%3d' +
                data[i]["id"] +
                '">ğŸ‘€æŸ¥çœ‹</a> ' +
                extraText;
            }

            // å›¾ç‰‡ä¿¡æ¯å±•ç¤º
            var desText =
              '<h2><a target="_blank" href="https://www.pixiv.net/artworks/' +
              data[i]["id"] +
              '">' +
              data[i]["title"] +
              '</a></h2><p>Created by <a target="_blank" href="https://www.pixiv.net/users/' +
              data[i]["author"]["id"] +
              '">' +
              data[i]["author"]["name"] +
              "</a> on " +
              data[i]["created_time"] +
              "<br>#æ”¶è—" +
              data[i]["total_bookmarked"] +
              " #æµè§ˆ" +
              data[i]["total_viewed"] +
              "</p>";
            //// æ ‡ç­¾
            var tagss = '<p style="max-width: 25%;">';
            for (let kk = 0; kk < data[i]["tags"].length; kk++) {
              tagss =
                tagss +
                '<a target="_blank" href=".?code=%40s%3d' +
                escape(data[i]["tags"][kk]) +
                ' -o">#' +
                data[i]["tags"][kk] +
                "</a> ";
            }
            desText = tagss + "</p>" + desText;

            if (c["args"]["ops"]["method"] === "oneWork" && i !== 0) {
              extra = "";
              extraText = "";
              desText = "";
            }

            // æœ€ç»ˆç»“æœ
            rstHtml +=
              '<article id="art_' +
              data[i]["id"] +
              '" class="thumb"><a href="' +
              imgUrl +
              '" class="image"><img src="' +
              imgUrlCover +
              '" alt="' +
              data[i]["title"] +
              '" /></a>' +
              desText +
              "<p>" +
              extraText +
              '</p><section class="thumbAction">' +
              extra +
              "</section></article>";
          }

          // ä¸€é”®ä¸‹è½½
          headerHtml +=
            '<li><a class="tooltip" href="javascript: dlPageAll();" title="ä¸‹è½½æœ¬é¡µæ‰€æœ‰å›¾ç‰‡ï¼ˆåŸå›¾ï¼‰">ä¸‹è½½</a></li>';

          // ç¼“å­˜æ–‡ä»¶
          if (tmpCode === 2) {
            headerHtml +=
              "<li><a href=\"javascript: searchForWorks('" +
              c["args"]["fun"]["kt"]
                .replaceAll("'", "\\'")
                .replaceAll('"', '\\"') +
              "', " +
              groupIndex +
              ', 0);">åˆ·æ–°ç¼“å­˜</a></li>';
          } else {
            headerHtml +=
              "<li><a href=\"javascript: grpActChon('now');\">åˆ·æ–°</a></li>";
          }

          // è¿”å›æŒ‰é’®
          if (groupIndex > 0) {
            headerHtml +=
              '<li><a id="btnHeaderBack" href="javascript: grpActChon(\'back\');"><i class="icon solid fa-chevron-circle-left tooltip" title="è¿”å›"></i></a></li>';
          } else if (groupIndex === 0) {
            headerHtml +=
              '<li><a href="."><i class="icon solid fa-home tooltip" title="ä¸»é¡µ"></i></a></li>';
          }

          // ç»„åºå·è¾“å…¥æ¡†
          if (c["args"]["ops"]["method"] !== "userMarks") {
            headerHtml +=
              '<li><input oninput="grpIdxBoxStu();" id="headerGrpIdxBox" class="tooltip" placeholder="' +
              c["args"]["ops"]["groupIndex"] +
              '" autocomplete="off" title="ç»„åºå·"></li>';
          }

          // ä¸‹ä¸€ç»„æŒ‰é’®
          if (data.length !== 0) {
            headerHtml +=
              '<li><a id="btnHeaderNext" href="javascript: grpActChon(\'next\');"><i class="icon solid fa-chevron-circle-right tooltip" title="ä¸‹ä¸€ç»„"></i></a></li>';
          } else {
            rstHtml = btnGetHTML("none");
          }

          // è¾“å‡º
          $("#main").html(rstHtml);

          if ($.inArray("header", reLoadList) >= 0) {
            $("#rstHeaderShow").html(headerHtml);
          }

          reMainJs(jQuery, reLoadList);
        } else {
          $("#main").html(btnGetHTML("none"));
          reMainJs(jQuery, ["main"]);
        }
        // åŠ¨ç”»è¿‡æ¸¡
        window.setTimeout(function () {
          $("body").removeClass("is-preload");
          if (title !== "") {
            $(".search-area").addClass("search-area-by");
            $("#srhBox").attr("placeholder", title);
          }
        }, 100);
        loadTooltip();
      }
    </script>
    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
    -->
  </body>
</html>
